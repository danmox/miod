<launch>

  <arg name="agent" default="1" />

  <group ns="aero$(arg agent)" >

    <!-- intel aero rviz visualization -->
    <param name="robot_description" command="$(find xacro)/xacro --inorder '$(find intel_aero_description)/urdf/intel_aero.xacro'" />

    <!-- spawn Intel Aero pointing at pile of rubble -->
    <node name="spawn_model" pkg="gazebo_ros" type="spawn_model" args="-urdf -param robot_description -model intel_aero$(arg agent) -x 4.0 -Y 3.141592" />
    <!--
    <node name="spawn_model" pkg="gazebo_ros" type="spawn_model" args="-urdf -package_to_model -param robot_description -model intel_aero$(arg agent) -robot_namespace aero$(arg agent) -x 4.0 -Y 3.141592" />
    -->

    <!-- publish joint states to tf -->
    <node name="state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />

    <!-- publish non-fixed joint states -->
    <node name="joint_publisher" pkg="joint_state_publisher" type="joint_state_publisher" />

  </group>

</launch>
